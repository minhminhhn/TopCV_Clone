<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập tài khoản CV Online</title>
    <meta name="description" content="Đăng nhập tài khoản cá nhân để nhận thêm nhiều hỗ trợ từ TopCV">
    <meta name="keywords" content="">
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-N3ZZ7MK');</script>


    <script>
        window.header = {
            referer: './home.html'
        }

        window.trackingSource = '';
        if (!window.trackingSource) {
            window.trackingSource = localStorage.getItem('ta_source');
        } else {
            localStorage.setItem('ta_source', window.trackingSource);
        }
    </script>
    <script type="text/javascript">
        let taVersion = '1.0.0';
        (function (w, d, v) {
            w['ta'] = w['ta'] || function () {
                (w['ta'].q = w['ta'].q || []).push([...arguments])
            }
            var po = d.createElement('script'); po.type = 'text/javascript'; po.async = true;

            po.src = 'https://ta.toprework.vn/dist/browser-platform/index.js?id=topcv_vn&version=' + v;
            var s = d.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })(window, document, taVersion);
    </script>
    <script>
        var search = new URLSearchParams(location.search);
        ta('pageview', {
            u_s: search.get('utm_source'),
            u_m: search.get('utm_medium'),
            u_c: search.get('utm_campaign')
        });

        const startTracking = new Date();
        function setUpSseListener() {
            if (ta.addSseListener && typeof ta.addSseListener === 'function') {
                let sent3mins = false;
                let sent7mins = false;
                const threeMinutes = 3 * 60 * 1000;
                const sevenMinutes = 7 * 60 * 1000;
                // const threeMinutes = 3 * 1000;
                // const sevenMinutes = 7 * 1000;
                ta.addSseListener((event) => {
                    const currentTimestamp = event.timeStamp;
                    if (!sent3mins && currentTimestamp >= threeMinutes) {
                        console.log('Sent ga 3 mins, the timestamp is: ' + (new Date().valueOf() - startTracking.valueOf()));
                        sent3mins = true;
                        gtag('event', 'OnSite3Mins', { 'send_to': 'AW-823531084/3_X7CI3YnYYDEMys2IgD' });
                    }
                    if (!sent7mins && currentTimestamp >= sevenMinutes) {
                        console.log('sent ga 7 mins, the timestamp is: ' + (new Date().valueOf() - startTracking.valueOf()));
                        sent7mins = true;
                        gtag('event', 'OnSite7Mins', { 'send_to': 'AW-823531084/krRuCK7exoYDEMys2IgD' });
                    }
                })
            } else {
                setTimeout(setUpSseListener, 1000);
            }
        }

        setUpSseListener();
    </script>

    <link rel="stylesheet" href="/static/v4/css/bootstrap.min.1d36fbb7b60f9fe2.css">
    <link rel="stylesheet" href="/static/v4/css/app.min.17482ab77c017e10.css">
    <link rel="stylesheet" href="/static/v4/css/components/desktop/auth.min.2ff870c16a40eb61.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-823531084"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'AW-823531084');
    </script>
    <script type="text/javascript">
        var trackingQueue = []
    </script>
    <script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v12.0&appId=1478418029113221&autoLogAppEvents=1"
        nonce="vRUcXWy5"></script>
</head>

<body>
    <div id="fb-root"></div>
    <div class="auth row">
        <div class="col-lg-6 auth-form">
            <div class="header">
                <div class="logo">
                    
                </div>
                <h2 class="title">Chào mừng bạn trở lại,</h2>
                <div class="text-muted caption">Cùng xây dựng một hồ sơ nổi bật và nhận được các cơ hội sự nghiệp lý
                    tưởng</div>
            </div>
            <div class="login">
                <form action="/welcome/index.html" method="post" id="form-login">
                    <input type="hidden" name="_token" value="ZIHMZ9Ag33yTRuLcWxWo3UxI8VDfmYtTkBhtFPIZ">
                    <div class="form-group mb-3">
                        <label for="email" class="mb-1">Email</label>
                        <div class="input-group ">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
                            </div>
                            <input type="email" name="email" class="form-control" placeholder="Nhập email của bạn"
                                aria-label="Nhập email của bạn" value="">
                        </div>
                    </div>
                    <div class="form-group mb-3">
                        <label for="password" class="mb-1">Password</label>
                        <div class="input-group ">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fa-solid fa-shield-keyhole"></i></span>
                            </div>
                            <input type="password" id="password" name="password" class="form-control"
                                placeholder="Nhập mật khẩu" aria-label="Nhập mật khẩu">
                            <div class="input-group-prepend">
                                <button type="button" tabindex="-1" data-input-target="#password"
                                    class="input-group-text toggle-password"></button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group mt-3">
                        <button type="submit"
                            class="btn btn-sign input-block-level w-100 h-40 mb-3 btn-primary-hover">Đăng nhập</button>
                        <p class="or text-center mb-0 fz-12px">Hoặc</p>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a href="javascript:loginWithFacebook();"
                            class="btn btn-signin btn-primary input-block-level mx-1 h-40 my-3">
                            <i class="fa-brands fa-facebook-square"></i>
                            <span class="ml-2">Facebook</span>
                        </a>
                        <a id="login-width-google" class="btn btn-default btn-signin input-block-level mx-1 h-40 my-3">
                            <i class="fa-brands fa-google"></i>
                            <span class="ml-2">Google</span>
                        </a>
                        <a href="https://www.linkedin.com/oauth/v2/authorization?response_type=code&amp;client_id=86umgx5hytpk2k&amp;redirect_uri=https%3A%2F%2Fwww.topcv.vn%2Fcallback-linkedin&amp;scope=r_liteprofile+r_emailaddress"
                            class="btn btn-default btn-signin btn-signin-linkedin input-block-level mx-1 h-40 my-3">
                            <i class="fa-brands fa-linkedin"></i>
                            <span class="ml-2">Linkedin</span>
                        </a>
                    </div>
                </form>
                <div class="mt-3 d-flex justify-content-between option-auth">
                    <div>
                        <span>Bạn chưa có tài khoản?</span>
                        <a class="text-success font-weight-bold" href="./sign-up">
                            Đăng ký ngay
                        </a>
                    </div>
                    <a class="text-success font-weight-bold" href="">
                        Quên mật khẩu
                    </a>
                </div>
            </div>
        </div>
        <div id="login-slider" class="px-0 col-6 carousel slide d-none d-lg-block" data-ride="carousel">
            <div id="carouselLogin" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselLogin" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselLogin" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselLogin" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="img-top">
                            <img src="./v4/image/tool-cv.png" class="w-100" alt="...">
                        </div>
                        <div class="carousel-caption d-none d-md-block">
                            <h4 class="title">Công cụ viết CV đẹp Miễn phí</h4>
                            <p class="caption">Nhiều mẫu CV đẹp, phù hợp nhu cầu ứng tuyển các vị trí khác nhau.
                                Dễ dàng chỉnh sửa thông tin, tạo CV online nhanh chóng trong vòng 5 phút.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="img-top">
                            <img src="./v4/image/sec-safe.png" class="w-100" alt="...">
                        </div>
                        <div class="carousel-caption d-none d-md-block">
                            <h4 class="title">Bảo mật & An toàn tuyệt đối</h4>
                            <p class="caption">Bạn có thể chủ động bật / tắt trạng thái tìm việc. Nếu trạng thái
                                tắt, không ai có thể xem được CV của bạn.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="img-top">
                            <img src="./v4/image/support.png" class="w-100" alt="...">
                        </div>
                        <div class="carousel-caption d-none d-md-block">
                            <h4 class="title">Hỗ trợ Người tìm việc</h4>
                            <p class="caption">Nhà tuyển dụng chủ động tìm kiếm và liên hệ với bạn qua hệ thống
                                kết nối ứng viên thông minh.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="./v4/js/app.min.e4665c4fe34e0503.js"></script>
    <script type="text/javascript"
        src="./v4/js/components/auth/auth.min.48f91bee0d482959.js"></script>
    <script src="https://apis.google.com/js/api:client.js"></script>
    <script type="text/javascript">
        var ROUTE_LOGIN_WITH_SOCIAL = "https://www.topcv.vn/login-width-social";
        function loginWithFacebook() {
            FB.login(function (response) {
                if (response.status === 'connected') {
                    loginWithSocial({
                        accessToken: response.authResponse.accessToken,
                        type: 'facebook',
                    });
                }
            })
        }
        function loginWithSocial({ accessToken, type }) {
            const http = new XMLHttpRequest();
            const params = {
                access_token: accessToken,
                type,
                _token: document.querySelector('meta[name="csrf-token"]').getAttribute('content')
            };
            http.open('POST', ROUTE_LOGIN_WITH_SOCIAL, true);
            http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            http.setRequestHeader('Accept', 'application/json');
            http.onreadystatechange = function () {
                try {
                    const response = JSON.parse(http.response);
                    if (http.readyState == 4 && http.status == 200 && response.status == 'success') {
                        window.location.href = './home.html';
                    }
                } catch (e) {
                    console.log(e);
                }
            }
            http.send(JSON.stringify(params));
        }
        (function () {
            gapi.load('auth2', function () {
                auth2 = gapi.auth2.init({
                    client_id: "856359690731-a0j3qaaq21iorl92btoo15nqqsvffsgd.apps.googleusercontent.com",
                    cookiepolicy: 'single_host_origin',
                });
                attachSignin(document.getElementById('login-width-google'));
            });
            function attachSignin(element) {
                auth2.attachClickHandler(element, {}, function (googleUser) {
                    const authResponse = googleUser.getAuthResponse();
                    const idToken = authResponse.id_token;
                    loginWithSocial({
                        accessToken: idToken,
                        type: 'google',
                    })
                }, function (error) {
                    console.log(error)
                });
            }
        })()
    </script>
    <div id="g_id_onload" data-prompt_parent_id="g_id_onload" data-cancel_on_tap_outside="false"
        style="position: fixed; top: 80px; right: 0px; z-index: 1040;">
    </div>
    <script src='https://accounts.google.com/gsi/client' async defer></script>
    <script>
        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "856359690731-a0j3qaaq21iorl92btoo15nqqsvffsgd.apps.googleusercontent.com",
                cancel_on_tap_outside: false,
                callback: handleCredentialResponse,
                prompt_parent_id: 'g_id_onload',
            });
            google.accounts.id.prompt();
        }

        function handleCredentialResponse(response) {
            ajaxLoginWithSocial({
                accessToken: response.credential,
                type: 'google',
            })
        }

        function ajaxLoginWithSocial({
            accessToken,
            type
        }) {
            const http = new XMLHttpRequest();
            const params = {
                access_token: accessToken,
                type,
                _token: document.querySelector('meta[name="csrf-token"]').getAttribute('content')
            };
            http.open('POST', "https://www.topcv.vn/login-width-social", true);
            http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
            http.setRequestHeader('Accept', 'application/json');
            http.onreadystatechange = function () {
                try {
                    const response = JSON.parse(http.response);
                    if (http.readyState == 4 && http.status == 200 && response.status == 'success') {
                        window.location.href = '';
                    }
                } catch (e) {
                    console.log(e);
                }
            }
            http.send(JSON.stringify(params));
        }

    </script>
</body>

</html>